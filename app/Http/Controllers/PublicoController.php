<?php

namespace App\Http\Controllers;

use App\Avistamiento;
use App\Canton;
use App\ClasesDeTierra;
use App\Colectore;
use App\Departamento;
use App\Especie;
use App\publicacionPDF;
use App\Clase;
use App\Municipio;
use App\Region;
use App\Suelo;
use App\Division;
use App\Familia;
use App\Genero;
use App\Nombrecomun;
use App\Orden;
use App\Reino;
use App\Subespecie;
use App\Usuario;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Input;
use Maatwebsite\Excel\Facades\Excel;
use Response;
use Validator;
use Cache;
use Redirect;


class PublicoController extends Controller
{
    //
	public function Reino_Animal(){

		$especie = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Subespecies.idSubespecie','Especies.idEspecie','Especies.fotografiaEspecie','Subespecies.fotografiaEspecie2')->where([['Reinos.nombreReino', '=', 'Animalia'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Animalia'], ['Subespecies.estadoMarn', '=', 1]])->paginate(30);

		//dd($especie);

		$reino_ani = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Reinos.nombreReino', '=', 'Animalia'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Animalia'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_bac = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Reinos.nombreReino', '=', 'Bacteria'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Bacteria'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_chro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Reinos.nombreReino', '=', 'Chromista'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Chromista'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_fun = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Reinos.nombreReino', '=', 'Fungi'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Fungi'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pla = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Reinos.nombreReino', '=', 'Plantae'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Plantae'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Reinos.nombreReino', '=', 'Protozoa'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Protozoa'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_ahua = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_santa = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sonso = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_chal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lali = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_ssal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cusca = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cab = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lapaz = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanvi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_usul = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanmi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_mor = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_launi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();




        $r_ani = count($reino_ani);
        $r_bac = count($reino_bac);
        $r_fun = count($reino_fun);
        $r_pro = count($reino_pro);
        $r_pla = count($reino_pla);
        $r_chro = count($reino_chro);


        $d_ahua = count($depar_ahua);
        $d_sant = count($depar_santa);
        $d_sons = count($depar_sonso);
        $d_chal = count($depar_chal);
        $d_lali = count($depar_lali);
        $d_ssal = count($depar_ssal);
        $d_cusc = count($depar_cusca);
        $d_caba = count($depar_cab);
        $d_lapa = count($depar_lapaz);
        $d_sanv = count($depar_sanvi);
        $d_usul = count($depar_usul);
        $d_sanm = count($depar_sanmi);
        $d_mora = count($depar_mor);
        $d_laun = count($depar_launi);


		$reino = 'Animal';

		//return view('publico.tabla_res');
		return view('publico.tabla_res', compact('especie','reino','r_ani','r_bac','r_fun','r_pro','r_pla','r_chro','d_ahua','d_sant','d_sons','d_chal','d_lali','d_ssal','d_cusc','d_caba','d_lapa','d_sanv','d_usul','d_sanm','d_mora','d_laun'));


	}

	public function Reino_Bacteria(){

		$especie = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Subespecies.idSubespecie','Especies.idEspecie','Especies.fotografiaEspecie','Subespecies.fotografiaEspecie2')->where([['Reinos.nombreReino', '=', 'Bacteria'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Bacteria'], ['Subespecies.estadoMarn', '=', 1]])->paginate(30);

		//dd($especie);

		$reino_ani = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Animalia'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Animalia'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_bac = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Bacteria'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Bacteria'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_chro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Chromista'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Chromista'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_fun = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Fungi'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Fungi'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pla = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Plantae'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Plantae'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Protozoa'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Protozoa'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_ahua = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_santa = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sonso = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_chal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lali = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_ssal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cusca = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cab = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lapaz = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanvi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_usul = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanmi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_mor = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_launi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();




        $r_ani = count($reino_ani);
        $r_bac = count($reino_bac);
        $r_fun = count($reino_fun);
        $r_pro = count($reino_pro);
        $r_pla = count($reino_pla);
        $r_chro = count($reino_chro);


        $d_ahua = count($depar_ahua);
        $d_sant = count($depar_santa);
        $d_sons = count($depar_sonso);
        $d_chal = count($depar_chal);
        $d_lali = count($depar_lali);
        $d_ssal = count($depar_ssal);
        $d_cusc = count($depar_cusca);
        $d_caba = count($depar_cab);
        $d_lapa = count($depar_lapaz);
        $d_sanv = count($depar_sanvi);
        $d_usul = count($depar_usul);
        $d_sanm = count($depar_sanmi);
        $d_mora = count($depar_mor);
        $d_laun = count($depar_launi);

		$reino = 'Bacteria';

		return view('publico.tabla_res',compact('especie','reino','r_ani','r_bac','r_fun','r_pro','r_pla','r_chro','d_ahua','d_sant','d_sons','d_chal','d_lali','d_ssal','d_cusc','d_caba','d_lapa','d_sanv','d_usul','d_sanm','d_mora','d_laun'));

	}

	public function Reino_Chromista(){

		$especie = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Subespecies.idSubespecie','Especies.idEspecie','Especies.fotografiaEspecie','Subespecies.fotografiaEspecie2')->where([['Reinos.nombreReino', '=', 'Chromista'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Chromista'], ['Subespecies.estadoMarn', '=', 1]])->paginate(30);

		//dd($especie);

		$reino_ani = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Animalia'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Animalia'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_bac = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Bacteria'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Bacteria'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_chro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Chromista'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Chromista'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_fun = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Fungi'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Fungi'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pla = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Plantae'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Plantae'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Protozoa'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Protozoa'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_ahua = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_santa = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sonso = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_chal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lali = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_ssal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cusca = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cab = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lapaz = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanvi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_usul = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanmi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_mor = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_launi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();




        $r_ani = count($reino_ani);
        $r_bac = count($reino_bac);
        $r_fun = count($reino_fun);
        $r_pro = count($reino_pro);
        $r_pla = count($reino_pla);
        $r_chro = count($reino_chro);


        $d_ahua = count($depar_ahua);
        $d_sant = count($depar_santa);
        $d_sons = count($depar_sonso);
        $d_chal = count($depar_chal);
        $d_lali = count($depar_lali);
        $d_ssal = count($depar_ssal);
        $d_cusc = count($depar_cusca);
        $d_caba = count($depar_cab);
        $d_lapa = count($depar_lapaz);
        $d_sanv = count($depar_sanvi);
        $d_usul = count($depar_usul);
        $d_sanm = count($depar_sanmi);
        $d_mora = count($depar_mor);
        $d_laun = count($depar_launi);

		$reino = 'Chromista';

		return view('publico.tabla_res',compact('especie','reino','r_ani','r_bac','r_fun','r_pro','r_pla','r_chro','d_ahua','d_sant','d_sons','d_chal','d_lali','d_ssal','d_cusc','d_caba','d_lapa','d_sanv','d_usul','d_sanm','d_mora','d_laun'));

	}

	public function Reino_Fungi(){

		$especie = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Subespecies.idSubespecie','Especies.idEspecie','Especies.fotografiaEspecie','Subespecies.fotografiaEspecie2')->where([['Reinos.nombreReino', '=', 'Fungi'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Fungi'], ['Subespecies.estadoMarn', '=', 1]])->paginate(30);

		//dd($especie);

		$reino_ani = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Animalia'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Animalia'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_bac = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Bacteria'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Bacteria'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_chro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Chromista'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Chromista'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_fun = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Fungi'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Fungi'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pla = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Plantae'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Plantae'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Protozoa'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Protozoa'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_ahua = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_santa = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sonso = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_chal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lali = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_ssal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cusca = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cab = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lapaz = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanvi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_usul = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanmi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_mor = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_launi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();




        $r_ani = count($reino_ani);
        $r_bac = count($reino_bac);
        $r_fun = count($reino_fun);
        $r_pro = count($reino_pro);
        $r_pla = count($reino_pla);
        $r_chro = count($reino_chro);


        $d_ahua = count($depar_ahua);
        $d_sant = count($depar_santa);
        $d_sons = count($depar_sonso);
        $d_chal = count($depar_chal);
        $d_lali = count($depar_lali);
        $d_ssal = count($depar_ssal);
        $d_cusc = count($depar_cusca);
        $d_caba = count($depar_cab);
        $d_lapa = count($depar_lapaz);
        $d_sanv = count($depar_sanvi);
        $d_usul = count($depar_usul);
        $d_sanm = count($depar_sanmi);
        $d_mora = count($depar_mor);
        $d_laun = count($depar_launi);

		$reino = 'Fungi';

		return view('publico.tabla_res',compact('especie','reino','r_ani','r_bac','r_fun','r_pro','r_pla','r_chro','d_ahua','d_sant','d_sons','d_chal','d_lali','d_ssal','d_cusc','d_caba','d_lapa','d_sanv','d_usul','d_sanm','d_mora','d_laun'));

	}

	public function Reino_Planta(){

		$especie = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Subespecies.idSubespecie','Especies.idEspecie','Especies.fotografiaEspecie','Subespecies.fotografiaEspecie2')->where([['Reinos.nombreReino', '=', 'Plantae'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Plantae'], ['Subespecies.estadoMarn', '=', 1]])->paginate(30);

		//dd($especie);

		$reino_ani = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Animalia'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Animalia'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_bac = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Bacteria'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Bacteria'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_chro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Chromista'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Chromista'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_fun = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Fungi'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Fungi'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pla = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Plantae'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Plantae'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Protozoa'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Protozoa'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_ahua = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_santa = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sonso = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_chal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lali = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_ssal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cusca = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cab = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lapaz = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanvi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_usul = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanmi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_mor = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_launi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();




        $r_ani = count($reino_ani);
        $r_bac = count($reino_bac);
        $r_fun = count($reino_fun);
        $r_pro = count($reino_pro);
        $r_pla = count($reino_pla);
        $r_chro = count($reino_chro);


        $d_ahua = count($depar_ahua);
        $d_sant = count($depar_santa);
        $d_sons = count($depar_sonso);
        $d_chal = count($depar_chal);
        $d_lali = count($depar_lali);
        $d_ssal = count($depar_ssal);
        $d_cusc = count($depar_cusca);
        $d_caba = count($depar_cab);
        $d_lapa = count($depar_lapaz);
        $d_sanv = count($depar_sanvi);
        $d_usul = count($depar_usul);
        $d_sanm = count($depar_sanmi);
        $d_mora = count($depar_mor);
        $d_laun = count($depar_launi);

		$reino = 'Plantae';

		return view('publico.tabla_res',compact('especie','reino','r_ani','r_bac','r_fun','r_pro','r_pla','r_chro','d_ahua','d_sant','d_sons','d_chal','d_lali','d_ssal','d_cusc','d_caba','d_lapa','d_sanv','d_usul','d_sanm','d_mora','d_laun'));

	}

	public function Reino_Protozoa(){
		$especie = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Subespecies.idSubespecie','Especies.idEspecie','Especies.fotografiaEspecie','Subespecies.fotografiaEspecie2')->where([['Reinos.nombreReino', '=', 'Protozoa'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Protozoa'], ['Subespecies.estadoMarn', '=', 1]])->paginate(30);

		//dd($especie);

		$reino_ani = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Animalia'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Animalia'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_bac = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Bacteria'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Bacteria'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_chro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Chromista'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Chromista'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_fun = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Fungi'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Fungi'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pla = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Plantae'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Plantae'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Protozoa'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Protozoa'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_ahua = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_santa = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sonso = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_chal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lali = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_ssal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cusca = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cab = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lapaz = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanvi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_usul = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanmi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_mor = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_launi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();




        $r_ani = count($reino_ani);
        $r_bac = count($reino_bac);
        $r_fun = count($reino_fun);
        $r_pro = count($reino_pro);
        $r_pla = count($reino_pla);
        $r_chro = count($reino_chro);


        $d_ahua = count($depar_ahua);
        $d_sant = count($depar_santa);
        $d_sons = count($depar_sonso);
        $d_chal = count($depar_chal);
        $d_lali = count($depar_lali);
        $d_ssal = count($depar_ssal);
        $d_cusc = count($depar_cusca);
        $d_caba = count($depar_cab);
        $d_lapa = count($depar_lapaz);
        $d_sanv = count($depar_sanvi);
        $d_usul = count($depar_usul);
        $d_sanm = count($depar_sanmi);
        $d_mora = count($depar_mor);
        $d_laun = count($depar_launi);

		$reino = 'Protozoa';

		return view('publico.tabla_res',compact('especie','reino','r_ani','r_bac','r_fun','r_pro','r_pla','r_chro','d_ahua','d_sant','d_sons','d_chal','d_lali','d_ssal','d_cusc','d_caba','d_lapa','d_sanv','d_usul','d_sanm','d_mora','d_laun'));

	}

	//////////////////        ////////////////////////     /////////////////// ///////////////// ////////// //////

	public function Departamento_Ahuachapan()
	{

		$especie = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino','Subespecies.idSubespecie','Especies.idEspecie','Especies.fotografiaEspecie','Subespecies.fotografiaEspecie2')->where([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->paginate(30);

		//dd($especie);

		$reino_ani = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Animalia'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Animalia'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_bac = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Bacteria'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Bacteria'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_chro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Chromista'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Chromista'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_fun = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Fungi'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Fungi'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pla = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Plantae'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Plantae'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Protozoa'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Protozoa'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_ahua = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_santa = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sonso = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_chal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lali = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_ssal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cusca = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cab = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lapaz = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanvi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_usul = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanmi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_mor = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_launi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();




        $r_ani = count($reino_ani);
        $r_bac = count($reino_bac);
        $r_fun = count($reino_fun);
        $r_pro = count($reino_pro);
        $r_pla = count($reino_pla);
        $r_chro = count($reino_chro);


        $d_ahua = count($depar_ahua);
        $d_sant = count($depar_santa);
        $d_sons = count($depar_sonso);
        $d_chal = count($depar_chal);
        $d_lali = count($depar_lali);
        $d_ssal = count($depar_ssal);
        $d_cusc = count($depar_cusca);
        $d_caba = count($depar_cab);
        $d_lapa = count($depar_lapaz);
        $d_sanv = count($depar_sanvi);
        $d_usul = count($depar_usul);
        $d_sanm = count($depar_sanmi);
        $d_mora = count($depar_mor);
        $d_laun = count($depar_launi);



		$dpto = 'Ahuachapan';

		return view('publico.resultados_depar',compact('especie','dpto','r_ani','r_bac','r_fun','r_pro','r_pla','r_chro','d_ahua','d_sant','d_sons','d_chal','d_lali','d_ssal','d_cusc','d_caba','d_lapa','d_sanv','d_usul','d_sanm','d_mora','d_laun'));

	}

	public function Departamento_SantaAna()
	{
		$especie = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino','Subespecies.idSubespecie','Especies.idEspecie','Especies.fotografiaEspecie','Subespecies.fotografiaEspecie2')->where([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->paginate(30);

		//dd($especie);

		$reino_ani = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Animalia'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Animalia'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_bac = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Bacteria'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Bacteria'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_chro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Chromista'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Chromista'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_fun = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Fungi'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Fungi'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pla = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Plantae'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Plantae'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Protozoa'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Protozoa'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_ahua = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_santa = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sonso = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_chal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lali = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_ssal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cusca = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cab = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lapaz = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanvi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_usul = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanmi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_mor = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_launi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();




        $r_ani = count($reino_ani);
        $r_bac = count($reino_bac);
        $r_fun = count($reino_fun);
        $r_pro = count($reino_pro);
        $r_pla = count($reino_pla);
        $r_chro = count($reino_chro);


        $d_ahua = count($depar_ahua);
        $d_sant = count($depar_santa);
        $d_sons = count($depar_sonso);
        $d_chal = count($depar_chal);
        $d_lali = count($depar_lali);
        $d_ssal = count($depar_ssal);
        $d_cusc = count($depar_cusca);
        $d_caba = count($depar_cab);
        $d_lapa = count($depar_lapaz);
        $d_sanv = count($depar_sanvi);
        $d_usul = count($depar_usul);
        $d_sanm = count($depar_sanmi);
        $d_mora = count($depar_mor);
        $d_laun = count($depar_launi);

		$dpto = 'Santa Ana';



		return view('publico.resultados_depar',compact('especie','dpto','r_ani','r_bac','r_fun','r_pro','r_pla','r_chro','d_ahua','d_sant','d_sons','d_chal','d_lali','d_ssal','d_cusc','d_caba','d_lapa','d_sanv','d_usul','d_sanm','d_mora','d_laun'));
		
	}

	public function Departamento_Sonsonate()
	{
		$especie = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino','Subespecies.idSubespecie','Especies.idEspecie','Especies.fotografiaEspecie','Subespecies.fotografiaEspecie2')->where([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->paginate(30);

		//dd($especie);

		$reino_ani = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Animalia'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Animalia'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_bac = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Bacteria'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Bacteria'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_chro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Chromista'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Chromista'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_fun = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Fungi'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Fungi'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pla = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Plantae'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Plantae'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Protozoa'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Protozoa'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_ahua = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_santa = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sonso = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_chal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lali = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_ssal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cusca = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cab = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lapaz = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanvi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_usul = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanmi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_mor = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_launi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();




        $r_ani = count($reino_ani);
        $r_bac = count($reino_bac);
        $r_fun = count($reino_fun);
        $r_pro = count($reino_pro);
        $r_pla = count($reino_pla);
        $r_chro = count($reino_chro);


        $d_ahua = count($depar_ahua);
        $d_sant = count($depar_santa);
        $d_sons = count($depar_sonso);
        $d_chal = count($depar_chal);
        $d_lali = count($depar_lali);
        $d_ssal = count($depar_ssal);
        $d_cusc = count($depar_cusca);
        $d_caba = count($depar_cab);
        $d_lapa = count($depar_lapaz);
        $d_sanv = count($depar_sanvi);
        $d_usul = count($depar_usul);
        $d_sanm = count($depar_sanmi);
        $d_mora = count($depar_mor);
        $d_laun = count($depar_launi);

		$dpto = 'Sonsonate';

		return view('publico.resultados_depar',compact('especie','dpto','r_ani','r_bac','r_fun','r_pro','r_pla','r_chro','d_ahua','d_sant','d_sons','d_chal','d_lali','d_ssal','d_cusc','d_caba','d_lapa','d_sanv','d_usul','d_sanm','d_mora','d_laun'));
		
	}

	public function Departamento_Chalatenango()
	{
		$especie = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino','Subespecies.idSubespecie','Especies.idEspecie','Especies.fotografiaEspecie','Subespecies.fotografiaEspecie2')->where([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->paginate(30);

		//dd($especie);

		$reino_ani = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Animalia'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Animalia'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_bac = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Bacteria'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Bacteria'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_chro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Chromista'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Chromista'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_fun = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Fungi'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Fungi'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pla = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Plantae'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Plantae'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Protozoa'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Protozoa'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_ahua = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_santa = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sonso = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_chal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lali = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_ssal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cusca = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cab = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lapaz = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanvi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_usul = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanmi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_mor = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_launi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();




        $r_ani = count($reino_ani);
        $r_bac = count($reino_bac);
        $r_fun = count($reino_fun);
        $r_pro = count($reino_pro);
        $r_pla = count($reino_pla);
        $r_chro = count($reino_chro);


        $d_ahua = count($depar_ahua);
        $d_sant = count($depar_santa);
        $d_sons = count($depar_sonso);
        $d_chal = count($depar_chal);
        $d_lali = count($depar_lali);
        $d_ssal = count($depar_ssal);
        $d_cusc = count($depar_cusca);
        $d_caba = count($depar_cab);
        $d_lapa = count($depar_lapaz);
        $d_sanv = count($depar_sanvi);
        $d_usul = count($depar_usul);
        $d_sanm = count($depar_sanmi);
        $d_mora = count($depar_mor);
        $d_laun = count($depar_launi);

		$dpto = 'Chalatenango';

		return view('publico.resultados_depar',compact('especie','dpto','r_ani','r_bac','r_fun','r_pro','r_pla','r_chro','d_ahua','d_sant','d_sons','d_chal','d_lali','d_ssal','d_cusc','d_caba','d_lapa','d_sanv','d_usul','d_sanm','d_mora','d_laun'));	
	}

	public function Departamento_LaLibertad()
	{
		$especie = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino','Subespecies.idSubespecie','Especies.idEspecie','Especies.fotografiaEspecie','Subespecies.fotografiaEspecie2')->where([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->paginate(30);

		//dd($especie);

		$reino_ani = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Animalia'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Animalia'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_bac = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Bacteria'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Bacteria'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_chro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Chromista'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Chromista'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_fun = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Fungi'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Fungi'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pla = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Plantae'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Plantae'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Protozoa'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Protozoa'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_ahua = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_santa = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sonso = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_chal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lali = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_ssal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cusca = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cab = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lapaz = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanvi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_usul = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanmi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_mor = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_launi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();




        $r_ani = count($reino_ani);
        $r_bac = count($reino_bac);
        $r_fun = count($reino_fun);
        $r_pro = count($reino_pro);
        $r_pla = count($reino_pla);
        $r_chro = count($reino_chro);


        $d_ahua = count($depar_ahua);
        $d_sant = count($depar_santa);
        $d_sons = count($depar_sonso);
        $d_chal = count($depar_chal);
        $d_lali = count($depar_lali);
        $d_ssal = count($depar_ssal);
        $d_cusc = count($depar_cusca);
        $d_caba = count($depar_cab);
        $d_lapa = count($depar_lapaz);
        $d_sanv = count($depar_sanvi);
        $d_usul = count($depar_usul);
        $d_sanm = count($depar_sanmi);
        $d_mora = count($depar_mor);
        $d_laun = count($depar_launi);

		$dpto = 'La Libertad';

		return view('publico.resultados_depar',compact('especie','dpto','r_ani','r_bac','r_fun','r_pro','r_pla','r_chro','d_ahua','d_sant','d_sons','d_chal','d_lali','d_ssal','d_cusc','d_caba','d_lapa','d_sanv','d_usul','d_sanm','d_mora','d_laun'));		
	}

	public function Departamento_SanSalvador()
	{
		$especie = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino','Subespecies.idSubespecie','Especies.idEspecie','Especies.fotografiaEspecie','Subespecies.fotografiaEspecie2')->where([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->paginate(30);

		//dd($especie);

		$reino_ani = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Animalia'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Animalia'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_bac = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Bacteria'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Bacteria'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_chro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Chromista'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Chromista'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_fun = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Fungi'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Fungi'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pla = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Plantae'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Plantae'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Protozoa'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Protozoa'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_ahua = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_santa = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sonso = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_chal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lali = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_ssal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cusca = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cab = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lapaz = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanvi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_usul = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanmi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_mor = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_launi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();




        $r_ani = count($reino_ani);
        $r_bac = count($reino_bac);
        $r_fun = count($reino_fun);
        $r_pro = count($reino_pro);
        $r_pla = count($reino_pla);
        $r_chro = count($reino_chro);


        $d_ahua = count($depar_ahua);
        $d_sant = count($depar_santa);
        $d_sons = count($depar_sonso);
        $d_chal = count($depar_chal);
        $d_lali = count($depar_lali);
        $d_ssal = count($depar_ssal);
        $d_cusc = count($depar_cusca);
        $d_caba = count($depar_cab);
        $d_lapa = count($depar_lapaz);
        $d_sanv = count($depar_sanvi);
        $d_usul = count($depar_usul);
        $d_sanm = count($depar_sanmi);
        $d_mora = count($depar_mor);
        $d_laun = count($depar_launi);

		$dpto = 'San Salvador';

		return view('publico.resultados_depar',compact('especie','dpto','r_ani','r_bac','r_fun','r_pro','r_pla','r_chro','d_ahua','d_sant','d_sons','d_chal','d_lali','d_ssal','d_cusc','d_caba','d_lapa','d_sanv','d_usul','d_sanm','d_mora','d_laun'));
	}

	public function Departamento_Cuscatlan()
	{
		$especie = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino','Subespecies.idSubespecie','Especies.idEspecie','Especies.fotografiaEspecie','Subespecies.fotografiaEspecie2')->where([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->paginate(30);

		//dd($especie);

		$reino_ani = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Animalia'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Animalia'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_bac = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Bacteria'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Bacteria'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_chro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Chromista'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Chromista'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_fun = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Fungi'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Fungi'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pla = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Plantae'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Plantae'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Protozoa'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Protozoa'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_ahua = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_santa = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sonso = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_chal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lali = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_ssal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cusca = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cab = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lapaz = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanvi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_usul = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanmi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_mor = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_launi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();




        $r_ani = count($reino_ani);
        $r_bac = count($reino_bac);
        $r_fun = count($reino_fun);
        $r_pro = count($reino_pro);
        $r_pla = count($reino_pla);
        $r_chro = count($reino_chro);


        $d_ahua = count($depar_ahua);
        $d_sant = count($depar_santa);
        $d_sons = count($depar_sonso);
        $d_chal = count($depar_chal);
        $d_lali = count($depar_lali);
        $d_ssal = count($depar_ssal);
        $d_cusc = count($depar_cusca);
        $d_caba = count($depar_cab);
        $d_lapa = count($depar_lapaz);
        $d_sanv = count($depar_sanvi);
        $d_usul = count($depar_usul);
        $d_sanm = count($depar_sanmi);
        $d_mora = count($depar_mor);
        $d_laun = count($depar_launi);

		$dpto = 'Cuscatlan';

		return view('publico.resultados_depar',compact('especie','dpto','r_ani','r_bac','r_fun','r_pro','r_pla','r_chro','d_ahua','d_sant','d_sons','d_chal','d_lali','d_ssal','d_cusc','d_caba','d_lapa','d_sanv','d_usul','d_sanm','d_mora','d_laun'));
	}

	public function Departamento_Cabañas()
	{
		$especie = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino','Subespecies.idSubespecie','Especies.idEspecie','Especies.fotografiaEspecie','Subespecies.fotografiaEspecie2')->where([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->paginate(30);

		//dd($especie)

		$reino_ani = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Animalia'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Animalia'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_bac = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Bacteria'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Bacteria'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_chro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Chromista'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Chromista'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_fun = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Fungi'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Fungi'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pla = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Plantae'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Plantae'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Protozoa'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Protozoa'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_ahua = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_santa = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sonso = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_chal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lali = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_ssal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cusca = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cab = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lapaz = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanvi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_usul = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanmi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_mor = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_launi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();




        $r_ani = count($reino_ani);
        $r_bac = count($reino_bac);
        $r_fun = count($reino_fun);
        $r_pro = count($reino_pro);
        $r_pla = count($reino_pla);
        $r_chro = count($reino_chro);


        $d_ahua = count($depar_ahua);
        $d_sant = count($depar_santa);
        $d_sons = count($depar_sonso);
        $d_chal = count($depar_chal);
        $d_lali = count($depar_lali);
        $d_ssal = count($depar_ssal);
        $d_cusc = count($depar_cusca);
        $d_caba = count($depar_cab);
        $d_lapa = count($depar_lapaz);
        $d_sanv = count($depar_sanvi);
        $d_usul = count($depar_usul);
        $d_sanm = count($depar_sanmi);
        $d_mora = count($depar_mor);
        $d_laun = count($depar_launi);

		$dpto = 'Cabañas';

		return view('publico.resultados_depar',compact('especie','dpto','r_ani','r_bac','r_fun','r_pro','r_pla','r_chro','d_ahua','d_sant','d_sons','d_chal','d_lali','d_ssal','d_cusc','d_caba','d_lapa','d_sanv','d_usul','d_sanm','d_mora','d_laun'));
	}

	public function Departamento_LaPaz()
	{
		$especie = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino','Subespecies.idSubespecie','Especies.idEspecie','Especies.fotografiaEspecie','Subespecies.fotografiaEspecie2')->where([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->paginate(30);

		//dd($especie);

		$reino_ani = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Animalia'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Animalia'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_bac = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Bacteria'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Bacteria'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_chro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Chromista'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Chromista'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_fun = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Fungi'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Fungi'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pla = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Plantae'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Plantae'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Protozoa'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Protozoa'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_ahua = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_santa = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sonso = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_chal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lali = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_ssal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cusca = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cab = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lapaz = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanvi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_usul = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanmi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_mor = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_launi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();




        $r_ani = count($reino_ani);
        $r_bac = count($reino_bac);
        $r_fun = count($reino_fun);
        $r_pro = count($reino_pro);
        $r_pla = count($reino_pla);
        $r_chro = count($reino_chro);


        $d_ahua = count($depar_ahua);
        $d_sant = count($depar_santa);
        $d_sons = count($depar_sonso);
        $d_chal = count($depar_chal);
        $d_lali = count($depar_lali);
        $d_ssal = count($depar_ssal);
        $d_cusc = count($depar_cusca);
        $d_caba = count($depar_cab);
        $d_lapa = count($depar_lapaz);
        $d_sanv = count($depar_sanvi);
        $d_usul = count($depar_usul);
        $d_sanm = count($depar_sanmi);
        $d_mora = count($depar_mor);
        $d_laun = count($depar_launi);

		$dpto = 'La Paz';

		return view('publico.resultados_depar',compact('especie','dpto','r_ani','r_bac','r_fun','r_pro','r_pla','r_chro','d_ahua','d_sant','d_sons','d_chal','d_lali','d_ssal','d_cusc','d_caba','d_lapa','d_sanv','d_usul','d_sanm','d_mora','d_laun'));
	}

	public function Departamento_SanVicente()
	{
		$especie = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino','Subespecies.idSubespecie','Especies.idEspecie','Especies.fotografiaEspecie','Subespecies.fotografiaEspecie2')->where([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->paginate(30);

		//dd($especie);

		$reino_ani = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Animalia'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Animalia'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_bac = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Bacteria'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Bacteria'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_chro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Chromista'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Chromista'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_fun = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Fungi'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Fungi'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pla = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Plantae'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Plantae'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Protozoa'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Protozoa'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_ahua = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_santa = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sonso = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_chal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lali = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_ssal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cusca = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cab = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lapaz = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanvi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_usul = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanmi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_mor = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_launi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();




        $r_ani = count($reino_ani);
        $r_bac = count($reino_bac);
        $r_fun = count($reino_fun);
        $r_pro = count($reino_pro);
        $r_pla = count($reino_pla);
        $r_chro = count($reino_chro);


        $d_ahua = count($depar_ahua);
        $d_sant = count($depar_santa);
        $d_sons = count($depar_sonso);
        $d_chal = count($depar_chal);
        $d_lali = count($depar_lali);
        $d_ssal = count($depar_ssal);
        $d_cusc = count($depar_cusca);
        $d_caba = count($depar_cab);
        $d_lapa = count($depar_lapaz);
        $d_sanv = count($depar_sanvi);
        $d_usul = count($depar_usul);
        $d_sanm = count($depar_sanmi);
        $d_mora = count($depar_mor);
        $d_laun = count($depar_launi);

		$dpto = 'San Vicente';

		return view('publico.resultados_depar',compact('especie','dpto','r_ani','r_bac','r_fun','r_pro','r_pla','r_chro','d_ahua','d_sant','d_sons','d_chal','d_lali','d_ssal','d_cusc','d_caba','d_lapa','d_sanv','d_usul','d_sanm','d_mora','d_laun'));
	}

	public function Departamento_Usulutan()
	{
		$especie = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino','Subespecies.idSubespecie','Especies.idEspecie','Especies.fotografiaEspecie','Subespecies.fotografiaEspecie2')->where([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->paginate(30);

		//dd($especie);

		$reino_ani = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Animalia'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Animalia'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_bac = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Bacteria'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Bacteria'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_chro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Chromista'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Chromista'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_fun = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Fungi'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Fungi'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pla = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Plantae'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Plantae'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Protozoa'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Protozoa'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_ahua = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_santa = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sonso = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_chal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lali = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_ssal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cusca = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cab = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lapaz = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanvi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_usul = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanmi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_mor = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_launi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();




        $r_ani = count($reino_ani);
        $r_bac = count($reino_bac);
        $r_fun = count($reino_fun);
        $r_pro = count($reino_pro);
        $r_pla = count($reino_pla);
        $r_chro = count($reino_chro);


        $d_ahua = count($depar_ahua);
        $d_sant = count($depar_santa);
        $d_sons = count($depar_sonso);
        $d_chal = count($depar_chal);
        $d_lali = count($depar_lali);
        $d_ssal = count($depar_ssal);
        $d_cusc = count($depar_cusca);
        $d_caba = count($depar_cab);
        $d_lapa = count($depar_lapaz);
        $d_sanv = count($depar_sanvi);
        $d_usul = count($depar_usul);
        $d_sanm = count($depar_sanmi);
        $d_mora = count($depar_mor);
        $d_laun = count($depar_launi);

		$dpto = 'Usulutan';

		return view('publico.resultados_depar',compact('especie','dpto','r_ani','r_bac','r_fun','r_pro','r_pla','r_chro','d_ahua','d_sant','d_sons','d_chal','d_lali','d_ssal','d_cusc','d_caba','d_lapa','d_sanv','d_usul','d_sanm','d_mora','d_laun'));
	}

	public function Departamento_SanMiguel()
	{
		$especie = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino','Subespecies.idSubespecie','Especies.idEspecie','Especies.fotografiaEspecie','Subespecies.fotografiaEspecie2')->where([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->paginate(30);

		//dd($especie);

		$reino_ani = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Animalia'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Animalia'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_bac = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Bacteria'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Bacteria'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_chro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Chromista'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Chromista'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_fun = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Fungi'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Fungi'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pla = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Plantae'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Plantae'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Protozoa'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Protozoa'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_ahua = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_santa = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sonso = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_chal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lali = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_ssal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cusca = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cab = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lapaz = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanvi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_usul = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanmi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_mor = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_launi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();




        $r_ani = count($reino_ani);
        $r_bac = count($reino_bac);
        $r_fun = count($reino_fun);
        $r_pro = count($reino_pro);
        $r_pla = count($reino_pla);
        $r_chro = count($reino_chro);


        $d_ahua = count($depar_ahua);
        $d_sant = count($depar_santa);
        $d_sons = count($depar_sonso);
        $d_chal = count($depar_chal);
        $d_lali = count($depar_lali);
        $d_ssal = count($depar_ssal);
        $d_cusc = count($depar_cusca);
        $d_caba = count($depar_cab);
        $d_lapa = count($depar_lapaz);
        $d_sanv = count($depar_sanvi);
        $d_usul = count($depar_usul);
        $d_sanm = count($depar_sanmi);
        $d_mora = count($depar_mor);
        $d_laun = count($depar_launi);

		$dpto = 'San Miguel';

		return view('publico.resultados_depar',compact('especie','dpto','r_ani','r_bac','r_fun','r_pro','r_pla','r_chro','d_ahua','d_sant','d_sons','d_chal','d_lali','d_ssal','d_cusc','d_caba','d_lapa','d_sanv','d_usul','d_sanm','d_mora','d_laun'));
	}

	public function Departamento_Morazan()
	{
		$especie = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino','Subespecies.idSubespecie','Especies.idEspecie','Especies.fotografiaEspecie','Subespecies.fotografiaEspecie2')->where([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->paginate(30);

		//dd($especie);

		$reino_ani = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Animalia'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Animalia'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_bac = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Bacteria'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Bacteria'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_chro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Chromista'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Chromista'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_fun = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Fungi'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Fungi'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pla = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Plantae'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Plantae'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Protozoa'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Protozoa'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_ahua = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_santa = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sonso = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_chal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lali = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_ssal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cusca = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cab = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lapaz = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanvi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_usul = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanmi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_mor = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_launi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();




        $r_ani = count($reino_ani);
        $r_bac = count($reino_bac);
        $r_fun = count($reino_fun);
        $r_pro = count($reino_pro);
        $r_pla = count($reino_pla);
        $r_chro = count($reino_chro);


        $d_ahua = count($depar_ahua);
        $d_sant = count($depar_santa);
        $d_sons = count($depar_sonso);
        $d_chal = count($depar_chal);
        $d_lali = count($depar_lali);
        $d_ssal = count($depar_ssal);
        $d_cusc = count($depar_cusca);
        $d_caba = count($depar_cab);
        $d_lapa = count($depar_lapaz);
        $d_sanv = count($depar_sanvi);
        $d_usul = count($depar_usul);
        $d_sanm = count($depar_sanmi);
        $d_mora = count($depar_mor);
        $d_laun = count($depar_launi);

		$dpto = 'Morazan';

		return view('publico.resultados_depar',compact('especie','dpto','r_ani','r_bac','r_fun','r_pro','r_pla','r_chro','d_ahua','d_sant','d_sons','d_chal','d_lali','d_ssal','d_cusc','d_caba','d_lapa','d_sanv','d_usul','d_sanm','d_mora','d_laun'));
	}

	public function Departamento_LaUnion()
	{
		$especie = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino','Subespecies.idSubespecie','Especies.idEspecie')->where([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->paginate(30);

		//dd($especie);

		$reino_ani = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Especies.fotografiaEspecie','Subespecies.fotografiaEspecie2')->where([['Reinos.nombreReino', '=', 'Animalia'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Animalia'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_bac = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Bacteria'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Bacteria'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_chro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Chromista'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Chromista'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_fun = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Fungi'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Fungi'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pla = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Plantae'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Plantae'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Protozoa'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Protozoa'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_ahua = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_santa = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sonso = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_chal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lali = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_ssal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cusca = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cab = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lapaz = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanvi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_usul = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanmi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_mor = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_launi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();




        $r_ani = count($reino_ani);
        $r_bac = count($reino_bac);
        $r_fun = count($reino_fun);
        $r_pro = count($reino_pro);
        $r_pla = count($reino_pla);
        $r_chro = count($reino_chro);


        $d_ahua = count($depar_ahua);
        $d_sant = count($depar_santa);
        $d_sons = count($depar_sonso);
        $d_chal = count($depar_chal);
        $d_lali = count($depar_lali);
        $d_ssal = count($depar_ssal);
        $d_cusc = count($depar_cusca);
        $d_caba = count($depar_cab);
        $d_lapa = count($depar_lapaz);
        $d_sanv = count($depar_sanvi);
        $d_usul = count($depar_usul);
        $d_sanm = count($depar_sanmi);
        $d_mora = count($depar_mor);
        $d_laun = count($depar_launi);

		$dpto = 'La Union';

		return view('publico.resultados_depar',compact('especie','dpto','r_ani','r_bac','r_fun','r_pro','r_pla','r_chro','d_ahua','d_sant','d_sons','d_chal','d_lali','d_ssal','d_cusc','d_caba','d_lapa','d_sanv','d_usul','d_sanm','d_mora','d_laun'));
	}


	public function Consulta_General(  )
	{
		$reino_ani = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Especies.fotografiaEspecie','Subespecies.fotografiaEspecie2')->where([['Reinos.nombreReino', '=', 'Animalia'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Animalia'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_bac = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Bacteria'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Bacteria'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_chro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Chromista'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Chromista'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_fun = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Fungi'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Fungi'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pla = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Plantae'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Plantae'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Protozoa'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Protozoa'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_ahua = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_santa = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_sonso = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_chal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_lali = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_ssal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_cusca = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_cab = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_lapaz = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_sanvi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_usul = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_sanmi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_mor = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_launi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Subespecies.estadoMarn', '=', 1]])->get();


        $r_ani = count($reino_ani);
        $r_bac = count($reino_bac);
        $r_fun = count($reino_fun);
        $r_pro = count($reino_pro);
        $r_pla = count($reino_pla);
        $r_chro = count($reino_chro);

        $d_ahua = count($depar_ahua);
        $d_sant = count($depar_santa);
        $d_sons = count($depar_sonso);
        $d_chal = count($depar_chal);
        $d_lali = count($depar_lali);
        $d_ssal = count($depar_ssal);
        $d_cusc = count($depar_cusca);
        $d_caba = count($depar_cab);
        $d_lapa = count($depar_lapaz);
        $d_sanv = count($depar_sanvi);
        $d_usul = count($depar_usul);
        $d_sanm = count($depar_sanmi);
        $d_mora = count($depar_mor);
        $d_laun = count($depar_launi);

		return view('publico.consulta_normal', compact('r_ani','r_bac','r_fun','r_pro','r_pla','r_chro','d_ahua','d_sant','d_sons','d_chal','d_lali','d_ssal','d_cusc','d_caba','d_lapa','d_sanv','d_usul','d_sanm','d_mora','d_laun') );

	}


	public function avista_esp_publico( Request $req )
	{
		//dd($req->all());

		$avista = Avistamiento::join('Especies', 'Avistamientos.idEspecie', '=', 'Especies.idEspecie')->join('Colectores', 'Avistamientos.idColector', '=', 'Colectores.idColector')->join('Municipio', 'Avistamientos.codigoMunicipio', '=', 'Municipio.codigoMunicipio')->join('Canton', 'Avistamientos.codigoCanton', '=', 'Canton.codigoCanton')->join('Suelo', 'Avistamientos.idSuelo', '=', 'Suelo.idSuelo')->join('ClasesDeTierra', 'Avistamientos.idClaseDeTierra', '=', 'ClasesDeTierra.idClaseDeTierra')->join('Departamento', 'Avistamientos.codigoDepartamento', '=', 'Departamento.codigoDepartamento')->select('Especies.idEspecie', 'Especies.nombreEspecie', 'Avistamientos.idAvistamiento', 'Colectores.nombreColector', 'Suelo.nombreSuelo', 'ClasesDeTierra.nombreClaseDeTierra', 'Departamento.nombreDepartamento', 'Municipio.nombreMunicipio', 'Canton.nombreCanton', 'Avistamientos.fuenteDeInformacion', 'Avistamientos.alturaAvistamiento', 'Avistamientos.longitudAvistamiento', 'Avistamientos.latitudAvistamiento', 'Avistamientos.fechaHoraAvistamiento', 'Avistamientos.ejemplarDepositado', 'Avistamientos.fechaIngresodeInformacionBD', 'Avistamientos.fotografiaAvistamiento', 'Avistamientos.ecosistemaAvistamiento', 'Avistamientos.descripcionClimaAvistamiento', 'Avistamientos.fisiografiaAvistamiento', 'Avistamientos.geologiaAvistamiento', 'Avistamientos.hidrografiaAvistamiento', 'Avistamientos.usosDeLaEspecieAvistamiento', 'Colectores.idColector', 'Departamento.codigoDepartamento', 'Municipio.codigoMunicipio', 'Canton.codigoCanton', 'Suelo.idSuelo', 'ClasesDeTierra.idClaseDeTierra','ClasesDeTierra.nombreClaseDeTierra','Avistamientos.publicacionPdf','Avistamientos.horaAvistamiento','Suelo.nombreSuelo')->where('idAvistamiento', $req->id_avista)->get();

        $pdf = publicacionPDF::join('Avistamientos','publicacionPDF.idAvistamiento','=','Avistamientos.idAvistamiento')->join('Especies','Avistamientos.idEspecie','=','Especies.idEspecie')->select('publicacionPdf.nombrePublicacion','Especies.nombreEspecie')->where('publicacionPDF.idAvistamiento', $req->id_avista)->get();

		//dd($avista);

		$reino_ani = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Animalia'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Animalia'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_bac = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Bacteria'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Bacteria'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_chro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Chromista'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Chromista'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_fun = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Fungi'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Fungi'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pla = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Plantae'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Plantae'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Protozoa'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Protozoa'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_ahua = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_santa = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sonso = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_chal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lali = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_ssal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cusca = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cab = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lapaz = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanvi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_usul = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanmi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_mor = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_launi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();




        $r_ani = count($reino_ani);
        $r_bac = count($reino_bac);
        $r_fun = count($reino_fun);
        $r_pro = count($reino_pro);
        $r_pla = count($reino_pla);
        $r_chro = count($reino_chro);


        $d_ahua = count($depar_ahua);
        $d_sant = count($depar_santa);
        $d_sons = count($depar_sonso);
        $d_chal = count($depar_chal);
        $d_lali = count($depar_lali);
        $d_ssal = count($depar_ssal);
        $d_cusc = count($depar_cusca);
        $d_caba = count($depar_cab);
        $d_lapa = count($depar_lapaz);
        $d_sanv = count($depar_sanvi);
        $d_usul = count($depar_usul);
        $d_sanm = count($depar_sanmi);
        $d_mora = count($depar_mor);
        $d_laun = count($depar_launi);

		return view('publico.publico_vista_esp', compact('avista','pdf','r_ani','r_bac','r_fun','r_pro','r_pla','r_chro','d_ahua','d_sant','d_sons','d_chal','d_lali','d_ssal','d_cusc','d_caba','d_lapa','d_sanv','d_usul','d_sanm','d_mora','d_laun'));

	}


	public function avista_sub_publico( Request $req )
	{

		//dd($req->all());

		$avista = Avistamiento::join('Subespecies', 'Avistamientos.idSubespecie', '=', 'Subespecies.idSubespecie')->join('Especies','Subespecies.idEspecie','=','Especies.idEspecie')->join('Colectores', 'Avistamientos.idColector', '=', 'Colectores.idColector')->join('Municipio', 'Avistamientos.codigoMunicipio', '=', 'Municipio.codigoMunicipio')->join('Canton', 'Avistamientos.codigoCanton', '=', 'Canton.codigoCanton')->join('Suelo', 'Avistamientos.idSuelo', '=', 'Suelo.idSuelo')->join('ClasesDeTierra', 'Avistamientos.idClaseDeTierra', '=', 'ClasesDeTierra.idClaseDeTierra')->join('Departamento', 'Avistamientos.codigoDepartamento', '=', 'Departamento.codigoDepartamento')->select('Subespecies.idSubespecie','Subespecies.nombreSubespecie','Especies.idEspecie', 'Especies.nombreEspecie', 'Avistamientos.idAvistamiento', 'Colectores.nombreColector', 'Suelo.nombreSuelo', 'ClasesDeTierra.nombreClaseDeTierra', 'Departamento.nombreDepartamento', 'Municipio.nombreMunicipio', 'Canton.nombreCanton', 'Avistamientos.fuenteDeInformacion', 'Avistamientos.alturaAvistamiento', 'Avistamientos.longitudAvistamiento', 'Avistamientos.latitudAvistamiento', 'Avistamientos.fechaHoraAvistamiento', 'Avistamientos.ejemplarDepositado', 'Avistamientos.fechaIngresodeInformacionBD', 'Avistamientos.fotografiaAvistamiento', 'Avistamientos.ecosistemaAvistamiento', 'Avistamientos.descripcionClimaAvistamiento', 'Avistamientos.fisiografiaAvistamiento', 'Avistamientos.geologiaAvistamiento', 'Avistamientos.hidrografiaAvistamiento', 'Avistamientos.usosDeLaEspecieAvistamiento', 'Colectores.idColector', 'Departamento.codigoDepartamento', 'Municipio.codigoMunicipio', 'Canton.codigoCanton', 'Suelo.idSuelo', 'ClasesDeTierra.idClaseDeTierra','ClasesDeTierra.nombreClaseDeTierra','Avistamientos.publicacionPdf','Avistamientos.horaAvistamiento','Suelo.nombreSuelo')->where('idAvistamiento', $req->id_avista)->get();

        $pdf = publicacionPDF::join('Avistamientos','publicacionPDF.idAvistamiento','=','Avistamientos.idAvistamiento')->join('Especies','Avistamientos.idEspecie','=','Especies.idEspecie')->select('publicacionPdf.nombrePublicacion','Especies.nombreEspecie')->where('publicacionPDF.idAvistamiento', $req->id_avista)->get();


		//dd($avista);

		$reino_ani = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Animalia'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Animalia'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_bac = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Bacteria'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Bacteria'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_chro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Chromista'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Chromista'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_fun = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Fungi'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Fungi'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pla = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Plantae'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Plantae'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Protozoa'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Protozoa'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_ahua = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_santa = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sonso = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_chal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lali = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_ssal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cusca = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cab = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lapaz = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanvi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_usul = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanmi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_mor = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_launi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino')->where([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();




        $r_ani = count($reino_ani);
        $r_bac = count($reino_bac);
        $r_fun = count($reino_fun);
        $r_pro = count($reino_pro);
        $r_pla = count($reino_pla);
        $r_chro = count($reino_chro);


        $d_ahua = count($depar_ahua);
        $d_sant = count($depar_santa);
        $d_sons = count($depar_sonso);
        $d_chal = count($depar_chal);
        $d_lali = count($depar_lali);
        $d_ssal = count($depar_ssal);
        $d_cusc = count($depar_cusca);
        $d_caba = count($depar_cab);
        $d_lapa = count($depar_lapaz);
        $d_sanv = count($depar_sanvi);
        $d_usul = count($depar_usul);
        $d_sanm = count($depar_sanmi);
        $d_mora = count($depar_mor);
        $d_laun = count($depar_launi);


		return view('publico.publico_vista_sub', compact('avista','pdf','r_ani','r_bac','r_fun','r_pro','r_pla','r_chro','d_ahua','d_sant','d_sons','d_chal','d_lali','d_ssal','d_cusc','d_caba','d_lapa','d_sanv','d_usul','d_sanm','d_mora','d_laun'));

	}

	public function avis_esp_excel( Request $req ){

		$nombre_excel = 'Avistamiento';

		//dd($req->all());
		$avista = Avistamiento::join('Colectores', 'Avistamientos.idColector', '=', 'Colectores.idColector')->join('Suelo', 'Avistamientos.idSuelo', '=', 'Suelo.idSuelo')->join('ClasesDeTierra', 'Avistamientos.idClaseDeTierra', '=', 'ClasesDeTierra.idClaseDeTierra')->join('Departamento', 'Avistamientos.codigoDepartamento', '=', 'Departamento.codigoDepartamento')->select('Avistamientos.idAvistamiento', 'Colectores.nombreColector', 'Suelo.nombreSuelo', 'ClasesDeTierra.nombreClaseDeTierra', 'Departamento.nombreDepartamento','Avistamientos.fechaHoraAvistamiento','Avistamientos.fechaIngresodeInformacionBD','Avistamientos.ecosistemaAvistamiento', 'Avistamientos.descripcionClimaAvistamiento', 'Avistamientos.fisiografiaAvistamiento', 'Avistamientos.geologiaAvistamiento', 'Avistamientos.hidrografiaAvistamiento','Avistamientos.publicacionPdf')->where('idAvistamiento', $req->id_esp)->get();


		Excel::create($nombre_excel, function($excel)use( $avista ){
                 

            $excel->sheet('avistamiento', function($sheet)use( $avista ){                
                $sheet->fromArray($avista); 
            });
            
        })->export('xls');

	}

	public function avis_sub_excel( Request $req ){

		//dd($req->all());
		$nombre_excel = 'Avistamiento';


		$avista = Avistamiento::join('Colectores', 'Avistamientos.idColector', '=', 'Colectores.idColector')->join('Suelo', 'Avistamientos.idSuelo', '=', 'Suelo.idSuelo')->join('ClasesDeTierra', 'Avistamientos.idClaseDeTierra', '=', 'ClasesDeTierra.idClaseDeTierra')->join('Departamento', 'Avistamientos.codigoDepartamento', '=', 'Departamento.codigoDepartamento')->select('Avistamientos.idAvistamiento', 'Colectores.nombreColector', 'Suelo.nombreSuelo', 'ClasesDeTierra.nombreClaseDeTierra', 'Departamento.nombreDepartamento','Avistamientos.fechaHoraAvistamiento','Avistamientos.fechaIngresodeInformacionBD','Avistamientos.ecosistemaAvistamiento', 'Avistamientos.descripcionClimaAvistamiento', 'Avistamientos.fisiografiaAvistamiento', 'Avistamientos.geologiaAvistamiento', 'Avistamientos.hidrografiaAvistamiento','Avistamientos.publicacionPdf')->where('idAvistamiento', $req->id_sub)->get();

		//view('publico.consulta_normal');

		Excel::create($nombre_excel, function($excel)use( $avista ){            

            $excel->sheet('avistamiento', function($sheet)use( $avista ){
                $sheet->fromArray($avista); 
            });

            
        })->export('xls');


	}

	public function depto_taxo( Request $req ){
		//dd($req->all());

		$nombre_excel = 'Departamento_'.$req->dep_tax;

		$especie = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Departamento.nombreDepartamento', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Reinos.nombreReino','Subespecies.idSubespecie','Especies.idEspecie')->where([['Departamento.nombreDepartamento', 'LIKE',"%$req->dep_tax%"], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', 'LIKE', "%$req->dep_tax%"], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

		Excel::create($nombre_excel, function($excel)use( $especie ){            

            $excel->sheet('avistamiento', function($sheet)use( $especie ){
                $sheet->fromArray($especie); 
            });

            
        })->export('xls');



	}

	public function reino_taxo( Request $req ){
		//dd( $req->all() );

		$nombre_excel = 'Reino_'.$req->reino_tax; 		

		$especie = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie','Subespecies.idSubespecie','Especies.idEspecie')->where([['Reinos.nombreReino', 'LIKE', "%$req->reino_tax%"], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', 'LIKE', "%$req->reino_tax%"], ['Subespecies.estadoMarn', '=', 1]])->get();

		Excel::create($nombre_excel, function($excel)use( $especie ){            

            $excel->sheet('avistamiento', function($sheet)use( $especie ){
                $sheet->fromArray($especie); 
            });

            
        })->export('xls');



	}

    public function BUSC_DESC()
    {
        $reino_ani = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Animalia'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Animalia'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_bac = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Bacteria'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Bacteria'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_chro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Chromista'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Chromista'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_fun = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Fungi'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Fungi'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pla = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Plantae'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Plantae'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $reino_pro = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->select('Reinos.nombreReino', 'Divisions.nombreDivision', 'Clases.nombreClase', 'Ordens.nombreOrden', 'Familias.nombreFamilia', 'Generos.nombreGenero', 'Especies.nombreEspecie','Subespecies.nombreSubespecie')->where([['Reinos.nombreReino', '=', 'Protozoa'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Reinos.nombreReino', '=', 'Protozoa'], ['Subespecies.estadoMarn', '=', 1]])->get();

        $depar_ahua = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'AHUACHAPAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_santa = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SANTA ANA'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sonso = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SONSONATE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_chal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CHALATENANGO'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lali = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA LIBERTAD'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_ssal = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN SALVADOR'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cusca = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CUSCATLAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_cab = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'CABANAS'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_lapaz = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA PAZ'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanvi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN VICENTE'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_usul = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'USULUTAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_sanmi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'SAN MIGUEL'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_mor = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'MORAZAN'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $depar_launi = Reino::join('Divisions', 'Reinos.idReino', '=', 'Divisions.idReino')->join('Clases', 'Divisions.idDivision', '=', 'Clases.idDivision')->join('Ordens', 'Clases.idClase', '=', 'Ordens.idClase')->join('Familias', 'Ordens.idOrden', '=', 'Familias.idOrden')->join('Generos', 'Familias.idFamilia', '=', 'Generos.idFamilia')->join('Especies', 'Generos.idGenero', '=', 'Especies.idGenero')->join('Avistamientos','Especies.idEspecie','=','Avistamientos.idEspecie')->join('Departamento','Avistamientos.codigoDepartamento','=','Departamento.codigoDepartamento')->leftJoin('Subespecies', 'Especies.idEspecie', '=', 'Subespecies.idEspecie')->where([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Especies.estadoMarn', '=', 1]])->orWhere([['Departamento.nombreDepartamento', '=', 'LA UNION'], ['Subespecies.estadoMarn', '=', 1]])->distinct()->get();

        $reino = Reino::all();

        $r_ani = count($reino_ani);
        $r_bac = count($reino_bac);
        $r_fun = count($reino_fun);
        $r_pro = count($reino_pro);
        $r_pla = count($reino_pla);
        $r_chro = count($reino_chro);


        $d_ahua = count($depar_ahua);
        $d_sant = count($depar_santa);
        $d_sons = count($depar_sonso);
        $d_chal = count($depar_chal);
        $d_lali = count($depar_lali);
        $d_ssal = count($depar_ssal);
        $d_cusc = count($depar_cusca);
        $d_caba = count($depar_cab);
        $d_lapa = count($depar_lapaz);
        $d_sanv = count($depar_sanvi);
        $d_usul = count($depar_usul);
        $d_sanm = count($depar_sanmi);
        $d_mora = count($depar_mor);
        $d_laun = count($depar_launi);


        return view('publico.busqueda_descarga',compact('reino','r_ani','r_bac','r_fun','r_pro','r_pla','r_chro','d_ahua','d_sant','d_sons','d_chal','d_lali','d_ssal','d_cusc','d_caba','d_lapa','d_sanv','d_usul','d_sanm','d_mora','d_laun'));
    }

}
